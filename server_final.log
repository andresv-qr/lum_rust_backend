[2m2025-09-19T05:04:27.204547Z[0m [32m INFO[0m [2mlum_rust_ws::monitoring[0m[2m:[0m ğŸ” Monitoring system initialized
[2m2025-09-19T05:04:27.204623Z[0m [32m INFO[0m [2mlum_rust_ws[0m[2m:[0m ğŸ” Monitoring system initialized
[2m2025-09-19T05:04:27.204685Z[0m [32m INFO[0m [2mlum_rust_ws::optimization[0m[2m:[0m ğŸ”§ Creating optimized database pool with 50 max connections
[2m2025-09-19T05:04:27.716493Z[0m [32m INFO[0m [2mlum_rust_ws::optimization[0m[2m:[0m âœ… Database pool created successfully
[2m2025-09-19T05:04:27.716578Z[0m [32m INFO[0m [2mlum_rust_ws::optimization[0m[2m:[0m ğŸ”§ Creating optimized Redis client
[2m2025-09-19T05:04:27.716668Z[0m [32m INFO[0m [2mlum_rust_ws::optimization[0m[2m:[0m âœ… Redis client created successfully
[2m2025-09-19T05:04:27.765208Z[0m [32m INFO[0m [2mlum_rust_ws::domains::qr::service[0m[2m:[0m ğŸš€ Initializing optimized hybrid QR service (2-level cascade)
[2m2025-09-19T05:04:27.765249Z[0m [32m INFO[0m [2mlum_rust_ws::domains::qr::service[0m[2m:[0m ğŸ“Š Expected performance: 85% success with Rust (5-15ms), 12% with Python fallback (30-50ms)
[2m2025-09-19T05:04:27.765329Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸš€ Initializing PerformanceManager with advanced configuration
[2m2025-09-19T05:04:27.765346Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ“Š QR Detection: 50 max concurrent
[2m2025-09-19T05:04:27.765355Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ“Š OCR Processing: 20 max concurrent
[2m2025-09-19T05:04:27.765362Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ“Š Webhook Processing: 100 max concurrent
[2m2025-09-19T05:04:27.765369Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ“Š API Requests: 200 max concurrent
[2m2025-09-19T05:04:27.765458Z[0m [32m INFO[0m [2mlum_rust_ws::webhook::deduplication[0m[2m:[0m ğŸ”„ MessageDeduplicator initialized with TTL: 300s, max_entries: 10000
[2m2025-09-19T05:04:27.765485Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ”¥ Starting performance warm-up process...
[2m2025-09-19T05:04:27.766593Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m âœ… Database connection verified
[2m2025-09-19T05:04:27.767023Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m âœ… Redis connection verified
[2m2025-09-19T05:04:27.767121Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ”¥ Performance warm-up completed
[2m2025-09-19T05:04:27.767156Z[0m [32m INFO[0m [2mlum_rust_ws[0m[2m:[0m ğŸš€ Application state initialized with optimized configuration
[2m2025-09-19T05:04:27.772599Z[0m [32m INFO[0m [2mlum_rust_ws[0m[2m:[0m listening on 0.0.0.0:8000
[2m2025-09-19T05:05:07.183113Z[0m [32m INFO[0m [2mlum_rust_ws::api::root_v4[0m[2m:[0m Request 86ed6dc6-cb2c-4e6f-9864-abbec619f501: Root endpoint accessed
[2m2025-09-19T05:05:07.674498Z[0m [33m WARN[0m [2mlum_rust_ws::middleware::auth[0m[2m:[0m Missing Authorization header
[2m2025-09-19T05:05:09.841650Z[0m [33m WARN[0m [2mlum_rust_ws::middleware::auth[0m[2m:[0m Missing Authorization header
[2m2025-09-19T05:05:13.217108Z[0m [32m INFO[0m [2mlum_rust_ws::api::root_v4[0m[2m:[0m Request 74b0f94f-8668-4a96-a02d-44dc7c9809ab: Root endpoint accessed
[2m2025-09-19T05:05:43.661291Z[0m [32m INFO[0m [2mlum_rust_ws::api::unified_auth_v4[0m[2m:[0m ğŸ” Unified authentication request received [3mprovider[0m[2m=[0mEmail [3mcreate_if_not_exists[0m[2m=[0mfalse [3mhas_linking_token[0m[2m=[0mfalse
[2m2025-09-19T05:05:43.661422Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸš€ Starting unified authentication [3mrequest_id[0m[2m=[0md2dee261-6258-4cd7-92bc-4c47162c98ab [3mprovider[0m[2m=[0mEmail { email: "TEST@EXAMPLE.COM", password: "testpassword", name: None }
[2m2025-09-19T05:05:43.661456Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ”‘ Email authentication [3memail[0m[2m=[0mtest@example.com
[2m2025-09-19T05:05:43.667059Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Auth event logged to database [3mrequest_id[0m[2m=[0md2dee261-6258-4cd7-92bc-4c47162c98ab [3mevent_type[0m[2m=[0mlogin_attempt [3msuccess[0m[2m=[0mtrue
[2m2025-09-19T05:05:44.565443Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Auth event logged to database [3mrequest_id[0m[2m=[0md2dee261-6258-4cd7-92bc-4c47162c98ab [3mevent_type[0m[2m=[0mlogin_failure [3msuccess[0m[2m=[0mfalse
[2m2025-09-19T05:05:44.565528Z[0m [31mERROR[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m âŒ Authentication failed [3mrequest_id[0m[2m=[0md2dee261-6258-4cd7-92bc-4c47162c98ab [3mexecution_time_ms[0m[2m=[0m904 [3merror[0m[2m=[0mInvalid credentials
[2m2025-09-19T05:05:44.565548Z[0m [31mERROR[0m [2mlum_rust_ws::api::unified_auth_v4[0m[2m:[0m Authentication failed: Invalid credentials
[2m2025-09-19T05:06:10.874130Z[0m [32m INFO[0m [2mlum_rust_ws::api::unified_auth_v4[0m[2m:[0m ğŸ” Unified authentication request received [3mprovider[0m[2m=[0mEmail [3mcreate_if_not_exists[0m[2m=[0mtrue [3mhas_linking_token[0m[2m=[0mfalse
[2m2025-09-19T05:06:10.874234Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸš€ Starting unified authentication [3mrequest_id[0m[2m=[0m237bc487-3783-4a12-a4f5-8aaddd89c571 [3mprovider[0m[2m=[0mEmail { email: "testcase@example.com", password: "TestPassword123", name: Some("Test Case User") }
[2m2025-09-19T05:06:10.874261Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Email registration [3memail[0m[2m=[0mtestcase@example.com [3mname[0m[2m=[0mTest Case User
[2m2025-09-19T05:06:10.880201Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Auth event logged to database [3mrequest_id[0m[2m=[0m237bc487-3783-4a12-a4f5-8aaddd89c571 [3mevent_type[0m[2m=[0mregister_attempt [3msuccess[0m[2m=[0mtrue
[2m2025-09-19T05:06:11.761927Z[0m [32m INFO[0m [2mlum_rust_ws::services::token_service[0m[2m:[0m ğŸ”‘ Generated access token successfully [3muser_id[0m[2m=[0m69 [3memail[0m[2m=[0mtestcase@example.com [3mexpires_at[0m[2m=[0m2025-09-20 05:06:11.761763325 UTC
[2m2025-09-19T05:06:11.767850Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Auth event logged to database [3mrequest_id[0m[2m=[0m237bc487-3783-4a12-a4f5-8aaddd89c571 [3mevent_type[0m[2m=[0mregister_success [3msuccess[0m[2m=[0mtrue
[2m2025-09-19T05:06:11.767920Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m âœ… Authentication successful [3mrequest_id[0m[2m=[0m237bc487-3783-4a12-a4f5-8aaddd89c571 [3mexecution_time_ms[0m[2m=[0m893
[2m2025-09-19T05:06:22.553210Z[0m [32m INFO[0m [2mlum_rust_ws::api::unified_auth_v4[0m[2m:[0m ğŸ” Unified authentication request received [3mprovider[0m[2m=[0mEmail [3mcreate_if_not_exists[0m[2m=[0mfalse [3mhas_linking_token[0m[2m=[0mfalse
[2m2025-09-19T05:06:22.553333Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸš€ Starting unified authentication [3mrequest_id[0m[2m=[0ma1a8d187-64d4-456d-9419-d584325cb97b [3mprovider[0m[2m=[0mEmail { email: "TESTCASE@EXAMPLE.COM", password: "TestPassword123", name: None }
[2m2025-09-19T05:06:22.553365Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ”‘ Email authentication [3memail[0m[2m=[0mtestcase@example.com
[2m2025-09-19T05:06:22.559205Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Auth event logged to database [3mrequest_id[0m[2m=[0ma1a8d187-64d4-456d-9419-d584325cb97b [3mevent_type[0m[2m=[0mlogin_attempt [3msuccess[0m[2m=[0mtrue
[2m2025-09-19T05:06:23.449415Z[0m [32m INFO[0m [2mlum_rust_ws::services::token_service[0m[2m:[0m ğŸ”‘ Generated access token successfully [3muser_id[0m[2m=[0m69 [3memail[0m[2m=[0mTESTCASE@EXAMPLE.COM [3mexpires_at[0m[2m=[0m2025-09-20 05:06:23.449297136 UTC
[2m2025-09-19T05:06:23.456455Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Auth event logged to database [3mrequest_id[0m[2m=[0ma1a8d187-64d4-456d-9419-d584325cb97b [3mevent_type[0m[2m=[0mlogin_success [3msuccess[0m[2m=[0mtrue
[2m2025-09-19T05:06:23.456533Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m âœ… Authentication successful [3mrequest_id[0m[2m=[0ma1a8d187-64d4-456d-9419-d584325cb97b [3mexecution_time_ms[0m[2m=[0m903
[2m2025-09-19T05:06:35.361282Z[0m [32m INFO[0m [2mlum_rust_ws::api::unified_auth_v4[0m[2m:[0m ğŸ” Unified authentication request received [3mprovider[0m[2m=[0mEmail [3mcreate_if_not_exists[0m[2m=[0mfalse [3mhas_linking_token[0m[2m=[0mfalse
[2m2025-09-19T05:06:35.361376Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸš€ Starting unified authentication [3mrequest_id[0m[2m=[0m8f88a333-1187-4e79-b489-eb09eb120818 [3mprovider[0m[2m=[0mEmail { email: "testcase@example.com", password: "testpassword123", name: None }
[2m2025-09-19T05:06:35.361405Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ”‘ Email authentication [3memail[0m[2m=[0mtestcase@example.com
[2m2025-09-19T05:06:35.366897Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Auth event logged to database [3mrequest_id[0m[2m=[0m8f88a333-1187-4e79-b489-eb09eb120818 [3mevent_type[0m[2m=[0mlogin_attempt [3msuccess[0m[2m=[0mtrue
[2m2025-09-19T05:06:36.256651Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Auth event logged to database [3mrequest_id[0m[2m=[0m8f88a333-1187-4e79-b489-eb09eb120818 [3mevent_type[0m[2m=[0mlogin_failure [3msuccess[0m[2m=[0mfalse
[2m2025-09-19T05:06:36.256729Z[0m [31mERROR[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m âŒ Authentication failed [3mrequest_id[0m[2m=[0m8f88a333-1187-4e79-b489-eb09eb120818 [3mexecution_time_ms[0m[2m=[0m895 [3merror[0m[2m=[0mInvalid credentials
[2m2025-09-19T05:06:36.256752Z[0m [31mERROR[0m [2mlum_rust_ws::api::unified_auth_v4[0m[2m:[0m Authentication failed: Invalid credentials
[2m2025-09-19T05:07:00.593932Z[0m [32m INFO[0m [2mlum_rust_ws::api::auth_v4[0m[2m:[0m ğŸ” Processing user login request [3mrequest_id[0m[2m=[0me9b554b3-4dfc-4506-a22b-67caa3e36ea9 [3memail[0m[2m=[0mTESTCASE@EXAMPLE.COM [3mremember_me[0m[2m=[0mfalse
[2m2025-09-19T05:07:01.520953Z[0m [32m INFO[0m [2mlum_rust_ws::api::auth_v4[0m[2m:[0m ğŸ‰ User login successful - JWT token generated for frontend compatibility [3mrequest_id[0m[2m=[0me9b554b3-4dfc-4506-a22b-67caa3e36ea9 [3muser_id[0m[2m=[0m69 [3memail[0m[2m=[0mtestcase@example.com [3mexecution_time_ms[0m[2m=[0m927 [3mremember_me[0m[2m=[0mfalse
[2m2025-09-19T05:18:17.589242Z[0m [32m INFO[0m [2mlum_rust_ws[0m[2m:[0m signal received, starting graceful shutdown
