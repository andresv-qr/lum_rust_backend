[2m2025-09-19T15:10:50.315895Z[0m [32m INFO[0m [2mlum_rust_ws::monitoring[0m[2m:[0m ğŸ” Monitoring system initialized
[2m2025-09-19T15:10:50.316033Z[0m [32m INFO[0m [2mlum_rust_ws[0m[2m:[0m ğŸ” Monitoring system initialized
[2m2025-09-19T15:10:50.316107Z[0m [32m INFO[0m [2mlum_rust_ws::optimization[0m[2m:[0m ğŸ”§ Creating optimized database pool with 50 max connections
[2m2025-09-19T15:10:50.846157Z[0m [32m INFO[0m [2mlum_rust_ws::optimization[0m[2m:[0m âœ… Database pool created successfully
[2m2025-09-19T15:10:50.846241Z[0m [32m INFO[0m [2mlum_rust_ws::optimization[0m[2m:[0m ğŸ”§ Creating optimized Redis client
[2m2025-09-19T15:10:50.846333Z[0m [32m INFO[0m [2mlum_rust_ws::optimization[0m[2m:[0m âœ… Redis client created successfully
[2m2025-09-19T15:10:50.902106Z[0m [32m INFO[0m [2mlum_rust_ws::domains::qr::service[0m[2m:[0m ğŸš€ Initializing optimized hybrid QR service (2-level cascade)
[2m2025-09-19T15:10:50.902143Z[0m [32m INFO[0m [2mlum_rust_ws::domains::qr::service[0m[2m:[0m ğŸ“Š Expected performance: 85% success with Rust (5-15ms), 12% with Python fallback (30-50ms)
[2m2025-09-19T15:10:50.902216Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸš€ Initializing PerformanceManager with advanced configuration
[2m2025-09-19T15:10:50.902229Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ“Š QR Detection: 50 max concurrent
[2m2025-09-19T15:10:50.902237Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ“Š OCR Processing: 20 max concurrent
[2m2025-09-19T15:10:50.902244Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ“Š Webhook Processing: 100 max concurrent
[2m2025-09-19T15:10:50.902252Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ“Š API Requests: 200 max concurrent
[2m2025-09-19T15:10:50.902349Z[0m [32m INFO[0m [2mlum_rust_ws::webhook::deduplication[0m[2m:[0m ğŸ”„ MessageDeduplicator initialized with TTL: 300s, max_entries: 10000
[2m2025-09-19T15:10:50.902372Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ”¥ Starting performance warm-up process...
[2m2025-09-19T15:10:50.903449Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m âœ… Database connection verified
[2m2025-09-19T15:10:50.903762Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m âœ… Redis connection verified
[2m2025-09-19T15:10:50.903816Z[0m [32m INFO[0m [2mlum_rust_ws::shared::performance[0m[2m:[0m ğŸ”¥ Performance warm-up completed
[2m2025-09-19T15:10:50.903836Z[0m [32m INFO[0m [2mlum_rust_ws[0m[2m:[0m ğŸš€ Application state initialized with optimized configuration
[2m2025-09-19T15:10:50.908454Z[0m [32m INFO[0m [2mlum_rust_ws[0m[2m:[0m listening on 0.0.0.0:8000
[2m2025-09-19T15:13:18.994852Z[0m [32m INFO[0m [2mlum_rust_ws::api::unified_auth_v4[0m[2m:[0m ğŸ” Unified authentication request received [3mprovider[0m[2m=[0mEmail [3mcreate_if_not_exists[0m[2m=[0mfalse [3mhas_linking_token[0m[2m=[0mfalse
[2m2025-09-19T15:13:18.995030Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸš€ Starting unified authentication [3mrequest_id[0m[2m=[0mf382f558-5029-4f8e-b845-a364c6cb8c0a [3mprovider[0m[2m=[0mEmail { email: "testcase@example.com", password: "TestPassword123", name: None }
[2m2025-09-19T15:13:18.995061Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ”‘ Email authentication [3memail[0m[2m=[0mtestcase@example.com
[2m2025-09-19T15:13:19.001192Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Auth event logged to database [3mrequest_id[0m[2m=[0mf382f558-5029-4f8e-b845-a364c6cb8c0a [3mevent_type[0m[2m=[0mlogin_attempt [3msuccess[0m[2m=[0mtrue
[2m2025-09-19T15:13:19.926276Z[0m [32m INFO[0m [2mlum_rust_ws::services::token_service[0m[2m:[0m ğŸ”‘ Generated access token successfully [3muser_id[0m[2m=[0m69 [3memail[0m[2m=[0mtestcase@example.com [3mexpires_at[0m[2m=[0m2025-09-20 15:13:19.926100586 UTC
[2m2025-09-19T15:13:19.933231Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m ğŸ“ Auth event logged to database [3mrequest_id[0m[2m=[0mf382f558-5029-4f8e-b845-a364c6cb8c0a [3mevent_type[0m[2m=[0mlogin_success [3msuccess[0m[2m=[0mtrue
[2m2025-09-19T15:13:19.933303Z[0m [32m INFO[0m [2mlum_rust_ws::services::unified_auth_simple[0m[2m:[0m âœ… Authentication successful [3mrequest_id[0m[2m=[0mf382f558-5029-4f8e-b845-a364c6cb8c0a [3mexecution_time_ms[0m[2m=[0m938
[2m2025-09-19T15:13:51.272310Z[0m [32m INFO[0m [2mlum_rust_ws::middleware::auth[0m[2m:[0m ğŸ” JWT authentication successful [3muser_id[0m[2m=[0m69 [3memail[0m[2m=[0mtestcase@example.com
[2m2025-09-19T15:13:51.272546Z[0m [32m INFO[0m [2mlum_rust_ws::api::verification_v4[0m[2m:[0m Request 35e7193b-9d54-4cdd-92a6-cce2ee35c91a: Send verification code to: testcase@example.com
[2m2025-09-19T15:13:51.276794Z[0m [31mERROR[0m [2mlum_rust_ws::api::verification_v4[0m[2m:[0m Request 35e7193b-9d54-4cdd-92a6-cce2ee35c91a: Database error: error occurred while decoding column 0: mismatched types; Rust type `i32` (as SQL type `INT4`) is not compatible with SQL type `INT8`
[2m2025-09-19T15:13:51.276966Z[0m [31mERROR[0m [2mtower_http::trace::on_failure[0m[2m:[0m response failed [3mclassification[0m[2m=[0mStatus code: 500 Internal Server Error [3mlatency[0m[2m=[0m4 ms
[2m2025-09-19T15:15:24.304695Z[0m [32m INFO[0m [2mlum_rust_ws[0m[2m:[0m signal received, starting graceful shutdown
